(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{683:function(s,t,e){"use strict";e.r(t);var n=e(5),a=Object(n.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("简易QQ机器人制作")]),s._v(" "),e("h1",{attrs:{id:"qq机器人制作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#qq机器人制作"}},[s._v("#")]),s._v(" QQ机器人制作")]),s._v(" "),e("p",[s._v("现实无法满足，只能靠电子老婆了（bushi")]),s._v(" "),e("p",[s._v("BV1aZ4y1f7e2是很好的教程，我自己摸索很久最后还是看了这个教程，简单有效")]),s._v(" "),e("hr"),s._v(" "),e("p",[e("strong",[s._v("前提")]),s._v("：你的电脑要有python环境，还要有个vscode用来写码. 虽然但是，只是做一个最简单的机器人（不自己写插件）的话，编程知识大概是不需要的. python最好是3.9的，3.10会寄.")]),s._v(" "),e("p",[e("strong",[s._v("Start")]),s._v("：")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("先把go-cqhttp下载了： "),e("a",{attrs:{href:"https://github.com/Mrs4s/go-cqhttp/releases/tag/v1.0.0-rc3",target:"_blank",rel:"noopener noreferrer"}},[s._v("Release v1.0.0-rc3 · Mrs4s/go-cqhttp (github.com)"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("网页下面找下载（找自己的版本")]),s._v(" "),e("img",{attrs:{src:s.$withBase("/qqBot/1.png")}})]),s._v(" "),e("li",[e("p",[s._v("打开里面的go-cqhttp.exe，之后会自动生成go-cqhttp.bat，运行.")]),s._v(" "),e("p",[s._v("通讯方式选3:反向ws")]),s._v(" "),e("img",{attrs:{src:s.$withBase("/qqBot/2.png")}})]),s._v(" "),e("li",[e("p",[s._v("之后会发现你有config.yml了，打开进行编辑")]),s._v(" "),e("p",[s._v("你需要更改下面几项：")]),s._v(" "),e("ul",[e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("account: # 账号相关\n  uin: 123456789 # QQ账号\n  password: 'abcd1234' # 密码为空时使用扫码登录\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 反向WS设置\n  - ws-reverse:\n      # 反向WS Universal 地址\n      # 注意 设置了此项地址后下面两项将会被忽略\n      universal: ws://127.0.0.1:12345/onebot/v11/ws/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("注意ws里填的12345，这个端口号不建议使用8080（即本机，可能会与其他服务冲突），选一个随机数（10000往上）就行")])])])]),s._v(" "),e("li",[e("p",[s._v("再次运行go-cqhttp.bat，按照指示登录你的机器人QQ.")]),s._v(" "),e("p",[s._v("登录之后暂时可以关了")])]),s._v(" "),e("li",[e("p",[s._v("在当前文件夹（cd 网上会有教的）打开命令指示符")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("nb create\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果报告说找不到'nb'就pip下载nonebot2（顺便把nonebot脚手架给下了，后面方便")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("pip install nb-cil                         #这是脚手架\npip install nonebot2                       #这是nonebot2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("这两行还是在刚才那个命令指示符里写，运行就下好了")]),s._v(" "),e("p",[s._v("如果出现满屏红字报错，大概率是网络问题（因为python在外面），多试几次就行，当然你也可以上网查怎么解决这类问题（或者拉到本页面最后，有教。。。")]),s._v(" "),e("p",[s._v("回到nb create:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Project Name   #项目名字，比如叫它QQbot\nWhere to store the plugin?  #插件存放的名称，选src就行\nWhich builtin plugin(s) would you like to use?  #选echo，用来测试bot是否正常运行\nWhich adapter(s) would you like to use?  #选OneBot V11\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("此时就会建立一个QQbot（起的项目名称）文件夹")])]),s._v(" "),e("li",[e("p",[s._v("打开QQbot文件夹，编辑.env，里面的dev改成prod，意味着以后读取环境变量将从.env.prod里读取")]),s._v(" "),e("p",[s._v("打开.env.prod，里面改成这样")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('HOST=127.0.0.1\nPORT=12345                      #刚刚在config.yml里的反向ws写的随机数\nSUPERUSER=["12345678"]          #nonebot超级用户，写你自己的号就行\nNICKNAME=["QQbot"]              #机器人的昵称\nCOMMAND_START=["/"]             #命令起始字符\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("打开bot.py，Ctrl+~打开Vscode的命令框，cd到当前文件夹，输入nb run启动bot")]),s._v(" "),e("p",[s._v("同时我们打开刚刚打开过的go-cqhttp.bat")]),s._v(" "),e("p",[s._v("机器人启动")])]),s._v(" "),e("li",[e("p",[s._v("更机器人私聊/echo aaa，如果正常运行机器人会回复你aaa（插件echo的用处）")])])]),s._v(" "),e("p",[s._v("此时的机器人啥也不会，只会一个echo，我们需要给它加插件")]),s._v(" "),e("p",[e("strong",[s._v("插件添加")]),s._v("：")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("到Nonebot的插件商店里 "),e("a",{attrs:{href:"https://v2.nonebot.dev/store",target:"_blank",rel:"noopener noreferrer"}},[s._v("NoneBot"),e("OutboundLink")],1),s._v(" ，选一个插件，点击右上角的图标进入github界面")]),s._v(" "),e("img",{attrs:{src:s.$withBase("/qqBot/3.png")}})]),s._v(" "),e("li",[e("p",[s._v("首先，在命令行里直接输入pip install 插件名 是可以下载的，如果是这样的下载方式的话，需要到bot.py里稍做配置，添加插件：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("nonebot.load_builtin_plugins(\"echo\")   #自带的echo插件\nnonebot.load_plugin('nonebot_plugin_picsearcher') #搜图插件\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("有些")]),s._v("(不是全部)插件会支持脚手架下载，即我们刚才pip下载的nb-cil")]),s._v(" "),e("p",[s._v("nb plugin install 插件名")]),s._v(" "),e("p",[s._v("这种下载方式的话，不需要更改配置，下完了就结束了")])]),s._v(" "),e("li",[e("p",[s._v("给你的机器人加一堆花里胡哨的插件就能去玩了")])])]),s._v(" "),e("hr"),s._v(" "),e("p",[e("strong",[s._v("pip下载速度离谱解决")]),s._v("：")]),s._v(" "),e("p",[s._v("使用国内镜像下载")]),s._v(" "),e("p",[s._v("清华：https://pypi.tuna.tsinghua.edu.cn/simple")]),s._v(" "),e("p",[s._v("阿里云：http://mirrors.aliyun.com/pypi/simple/")]),s._v(" "),e("p",[s._v("中国科技大学 https://pypi.mirrors.ustc.edu.cn/simple/")]),s._v(" "),e("p",[s._v("华中理工大学：http://pypi.hustunique.com/")]),s._v(" "),e("p",[s._v("山东理工大学：http://pypi.sdutlinux.org/")]),s._v(" "),e("p",[s._v("豆瓣：http://pypi.douban.com/simple/")]),s._v(" "),e("p",[s._v("例：下载pyspider\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyspider")]),s._v(" "),e("p",[e("strong",[s._v("github下载速度离谱解决")]),s._v("：")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://d.serctl.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载 (serctl.com)"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("让这个网站帮你下~")])])}),[],!1,null,null,null);t.default=a.exports}}]);