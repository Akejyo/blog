(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{685:function(s,n,t){"use strict";t.r(n);var a=t(5),i=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("棋盘")]),s._v(" "),t("h1",{attrs:{id:"b-下棋"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-下棋"}},[s._v("#")]),s._v(" B. 下棋")]),s._v(" "),t("p",[t("strong",[s._v("题意")]),s._v(":一个n*n的矩形网图，每个格子都有值"),t("strong",[s._v("且互不相同")]),s._v("，Alice和Bob轮流将棋子放置在棋盘上并获得所放位置的分数。下棋规则：")]),s._v(" "),t("ol",[t("li",[s._v("除去第一次放置棋子，每一次放置的棋子必须保证和上一次放置的棋子的曼哈顿距离"),t("strong",[s._v("大于")]),s._v(" m；")]),s._v(" "),t("li",[s._v("棋子可以重叠放置。")])]),s._v(" "),t("p",[s._v("Alice先手，棋局进行"),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("msup",[t("mn",[s._v("2")]),t("mrow",[t("mn",[s._v("2")]),t("mn",[s._v("0")]),t("mn",[s._v("2")]),t("mn",[s._v("2")])],1)],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("2^{2022}")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathrm"},[s._v("2")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("2")]),t("span",{staticClass:"mord mathrm"},[s._v("0")]),t("span",{staticClass:"mord mathrm"},[s._v("2")]),t("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("回合后结束，问Alice在哪些位置下第一步棋必胜。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("分析")]),s._v(":Alice先手下完后获得分数a(i,j)，Bob如果想赢就必须在可选范围内选一个大于a(i,j)的格子才"),t("strong",[s._v("有可能赢")]),s._v("，然后我们只要判断Bob选的这个格子是否是一个先手必胜点，如果是，那么Alice就寄了，Alice不能下a(i,j)。")]),s._v(" "),t("p",[t("strong",[s._v("DP")]),s._v(":首先将格子分数a(i,j)从大到小排序，顺序遍历a。因为为了判断一个点是不是必胜点要判断"),t("strong",[s._v("可选范围内有无比该点分数大的必胜点")]),s._v("，那么从大到小去dp的话就不需考虑大小了，只需考虑是否有必胜点即可。")]),s._v(" "),t("p",[s._v("​        设dp(i,j)是(i,j)先手必胜或必败，查询是否存在一个点"),t("strong",[s._v("必胜点")]),s._v("(x,y)，满足abs(x-i)+abs(y-j)>m。找必胜点可以有一点小结论：对于棋盘的四个角，分别保存距离最远的必胜点坐标，那么距离(i,j)曼哈顿距离最远的必胜点一定是保存的四个点之一，所以每次只需判断四个点就行，(i,j)判断是必胜点时再更新棋盘四点的保存点。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("void update(point a) {//更新棋盘四点的最近点\n\tint tem;\n\tfor (int i = 0; i < 4; i++) \n\t\tif ((tem = mhd(QiPanSiJiao[i], a)) < jud[i].w)\n\t\t\tjud[i].x = a.x, jud[i].y = a.y, jud[i].w = tem;\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("for (int i = 2; i <= cnt; i++) {\n\t\tflag = 1;\n\t\tfor (int j = 0; j < 4; j++)//查棋盘四点保存的必胜点与(i,j)的距离是否可取\n\t\t\tif (mhd(jud[j], P[i]) > m)\n\t\t\t\tflag = 0;\n\t\tif (flag) {//该点是必胜点\n\t\t\tans.push_back(P[i]);\n\t\t\tupdate(P[i]);//更新棋盘四点保存的点\n\t\t}\n\t}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("hr"),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('#include <bits/stdc++.h>\ntemplate<typename T>\ninline void read(T& x) { x = 0; char c = getchar(); while (!isdigit(c))c = getchar(); while (isdigit(c)) { x = x * 10 + c - \'0\'; c = getchar(); } }\n#define si(a) read(a)\n#define sii(a,b) read(a),read(b)\n#define siii(a,b,c) read(a),read(b),read(c)\n#define fl float\n#define ll long long int\n#define ull unsigned long long int\nusing namespace std;\nint gcd(int a, int b) { return a == 0 ? b : gcd(b % a, a); }\n//const ll MOD = 924844033;\nconst int N = 5e5 + 10;\nint n, m;\nint num[2010][2010];\nint M, x, y, cnt, flag;\nstruct point { int x, y, w; };\npoint jud[4];//左上、右上、左下、右下\npoint jud_xy[4];\npoint P[4000010];\nvector<point>ans;\nbool cmp(point a, point b) { return a.w > b.w; }\nbool cmp2(point a, point b) { return a.x == b.x ? a.y < b.y : a.x < b.x; }\nint mhd(point a, point b) { return abs(a.x - b.x) + abs(a.y - b.y); }\nvoid update(point a) {//更新四点的最近点\n\tint tem;\n\tfor (int i = 0; i < 4; i++) \n\t\tif ((tem = mhd(jud_xy[i], a)) < jud[i].w)\n\t\t\tjud[i].x = a.x, jud[i].y = a.y, jud[i].w = tem;\n}\nvoid solve() {\n\tsii(n,m);\n\tfor (int i = 1; i <= n; i++)\n\t\tfor (int j = 1; j <= n; j++)\n\t\t\tsi(num[i][j]), P[++cnt] = { i,j,num[i][j] };\n\tjud[0].w = jud[1].w = jud[2].w = jud[3].w = 5000;\n\tjud_xy[0] = { 1,1,0 }, jud_xy[1] = { 1,n,0 }, jud_xy[2] = { n,1,0 }, jud_xy[3] = { n,n,0 };\n\tsort(P + 1, P + cnt + 1, cmp);\n\tupdate(P[1]);\n\tans.push_back(P[1]);\n\tfor (int i = 2; i <= cnt; i++) {\n\t\tflag = 1;\n\t\tfor (int j = 0; j < 4; j++)\n\t\t\tif (mhd(jud[j], P[i]) > m)\n\t\t\t\tflag = 0;\n\t\tif (flag) {//该点是必胜点\n\t\t\tans.push_back(P[i]);\n\t\t\tupdate(P[i]);\n\t\t}\n\t}\n\tsort(ans.begin(), ans.end(), cmp2);\n\tint ttt = ans.size();\n\tprintf("%d\\n", ttt);\n\tfor (int i = 0; i < ttt; i++)\n\t\tprintf("%d %d\\n", ans[i].x, ans[i].y);\n}\nint main() {\n\tint t;\n\t/*si(t);\n\twhile (t--)*/\n\tsolve();\n\treturn 0;\n}\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br")])])])}),[],!1,null,null,null);n.default=i.exports}}]);