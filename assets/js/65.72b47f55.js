(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{729:function(n,s,t){"use strict";t.r(s);var a=t(5),e=Object(a.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("剪枝，迭代加深")]),n._v(" "),t("h1",{attrs:{id:"r-国际象棋"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#r-国际象棋"}},[n._v("#")]),n._v(" R. 国际象棋")]),n._v(" "),t("p",[t("strong",[n._v("题意")]),n._v("：5×5的棋盘，有12个黑子、12个白子和一个空格，每个子的移动方式为国际象棋中马的走法，要求最后棋局长这样：")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("11111\n01111\n00*11\n00001\n00000\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br")])]),t("p",[n._v("1是黑子，0是白子，*是空格。求最小步数(步数大于15输出-1)")]),n._v(" "),t("hr"),n._v(" "),t("p",[t("strong",[n._v("迭代加深+可行性剪枝")])]),n._v(" "),t("ul",[t("li",[n._v("由于最大步数就是15，直接设搜索深度为15即可。")]),n._v(" "),t("li",[n._v("移动一次会改变两个子的位置，移动两次最多改变三个子的位置，移动n次最多改变n+1个子的位置，我们需要记录并计算当前棋局与终局棋子的差异个数，如果差异次数大于剩余次数+1，那就是不可能在剩余步数里下完棋局，就可以直接退出了。")]),n._v(" "),t("li",[n._v("每次枚举空格周围的8个格子而不是枚举每个棋子。")])]),n._v(" "),t("hr"),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("#include <bits/stdc++.h>\ntemplate<typename T>\ninline void read(T& x) { x = 0; char c = getchar(); while (!isdigit(c))c = getchar(); while (isdigit(c)) { x = x * 10 + c - '0'; c = getchar(); } }\n#define si(a) read(a)\n#define sii(a,b) read(a),read(b)\n#define siii(a,b,c) read(a),read(b),read(c)\n#define fl float\n#define ll long long int\n#define ull unsigned long long int\nusing namespace std;\nint gcd(int a, int b) { return a == 0 ? b : gcd(b % a, a); }\n//const ll MOD = 924844033;\nconst int N = 2e6 + 10;\nint n, m;\nint ans;\nint next_x[9] = { 0,-2,-1,1,2,2,1,-1,-2 };\nint next_y[9] = { 0,1,2,2,1,-1,-2,-2,-1 };\nchar chess[6][6];\nchar chess_end[6][6] = {\n\t{'1','1','4','5','1','4'},\n\t{'w','1','1','1','1','1'},\n\t{'c','0','1','1','1','1'},\n\t{'w','0','0','*','1','1'},\n\t{'c','0','0','0','0','1'},\n\t{'A','0','0','0','0','0'}\n};\nbool check_xy(int a, int b, int th) {\n\tif ((a + next_x[th] >= 1) && (b + next_y[th] >= 1) && (a + next_x[th] <= 5) && (b + next_y[th] <= 5))\n\t\treturn true;\n\treturn false;\n}\nbool ok_() {\n\tfor (int i = 1; i <= 5; i++)\n\t\tfor (int j = 1; j <= 5; j++)\n\t\t\tif (chess_end[i][j] != chess[i][j])\n\t\t\t\treturn false;\n\treturn true;\n}\nint diff() {\n\tint cnt = 0;\n\tfor (int i = 1; i <= 5; i++)\n\t\tfor (int j = 1; j <= 5; j++)\n\t\t\tif (chess_end[i][j] != chess[i][j])\n\t\t\t\tcnt++;\n\treturn cnt;\n}\nvoid dfs(int u, int x,int y, int now) {\n\tif (u > 15 || u>=ans)\n\t\treturn;\n\tif (!now) {\n\t\tans = min(ans, u);\n\t\treturn;\n\t}\n\tif (now > 16 - u) return;\n\tfor (int i = 1; i <= 8; i++)\n\t\tif (check_xy(x, y, i)) {\n\t\t\tint tmp = 0;\n\t\t\tint x2 = x + next_x[i], y2 = y + next_y[i];\n\t\t\tif (chess[x][y] == chess_end[x][y]) tmp++;\n\t\t\tif (chess[x2][y2] == chess_end[x2][y2]) tmp++;\n\t\t\tif (chess[x][y] == chess_end[x2][y2])tmp--;\n\t\t\tif (chess[x2][y2] == chess_end[x][y]) tmp--;\n\t\t\tswap(chess[x][y], chess[x + next_x[i]][y + next_y[i]]);\n\t\t\tdfs(u + 1, x + next_x[i], y + next_y[i],now+tmp);\n\t\t\tswap(chess[x][y], chess[x + next_x[i]][y + next_y[i]]);\n\t\t}\n}\nvoid solve() {\n\tans = 114514;\n\tfor (int i = 1; i <= 5; i++)\n\t\tscanf(\"%s\", chess[i]+1);\n\tgetchar();\n\tint tmp = diff();\n\tfor (int i = 1; i <= 5; i++)\n\t\tfor (int j = 1; j <= 5; j++)\n\t\t\tif (chess[i][j] == '*') {\n\t\t\t\tdfs(0, i, j, tmp);\n\t\t\t\tif (ans >15) printf(\"-1\\n\");\n\t\t\t\telse printf(\"%d\\n\", ans);\n\t\t\t\treturn;\n\t\t\t}\n}\nint main() {\n\tint t;\n\tsi(t);\n\twhile (t--)\n\t\tsolve();\n\treturn 0;\n}\n/*\n2\n1*111\n01111\n00111\n00001\n00000\n01011\n110*1\n01110\n01010\n00100\n*/\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br"),t("span",{staticClass:"line-number"},[n._v("25")]),t("br"),t("span",{staticClass:"line-number"},[n._v("26")]),t("br"),t("span",{staticClass:"line-number"},[n._v("27")]),t("br"),t("span",{staticClass:"line-number"},[n._v("28")]),t("br"),t("span",{staticClass:"line-number"},[n._v("29")]),t("br"),t("span",{staticClass:"line-number"},[n._v("30")]),t("br"),t("span",{staticClass:"line-number"},[n._v("31")]),t("br"),t("span",{staticClass:"line-number"},[n._v("32")]),t("br"),t("span",{staticClass:"line-number"},[n._v("33")]),t("br"),t("span",{staticClass:"line-number"},[n._v("34")]),t("br"),t("span",{staticClass:"line-number"},[n._v("35")]),t("br"),t("span",{staticClass:"line-number"},[n._v("36")]),t("br"),t("span",{staticClass:"line-number"},[n._v("37")]),t("br"),t("span",{staticClass:"line-number"},[n._v("38")]),t("br"),t("span",{staticClass:"line-number"},[n._v("39")]),t("br"),t("span",{staticClass:"line-number"},[n._v("40")]),t("br"),t("span",{staticClass:"line-number"},[n._v("41")]),t("br"),t("span",{staticClass:"line-number"},[n._v("42")]),t("br"),t("span",{staticClass:"line-number"},[n._v("43")]),t("br"),t("span",{staticClass:"line-number"},[n._v("44")]),t("br"),t("span",{staticClass:"line-number"},[n._v("45")]),t("br"),t("span",{staticClass:"line-number"},[n._v("46")]),t("br"),t("span",{staticClass:"line-number"},[n._v("47")]),t("br"),t("span",{staticClass:"line-number"},[n._v("48")]),t("br"),t("span",{staticClass:"line-number"},[n._v("49")]),t("br"),t("span",{staticClass:"line-number"},[n._v("50")]),t("br"),t("span",{staticClass:"line-number"},[n._v("51")]),t("br"),t("span",{staticClass:"line-number"},[n._v("52")]),t("br"),t("span",{staticClass:"line-number"},[n._v("53")]),t("br"),t("span",{staticClass:"line-number"},[n._v("54")]),t("br"),t("span",{staticClass:"line-number"},[n._v("55")]),t("br"),t("span",{staticClass:"line-number"},[n._v("56")]),t("br"),t("span",{staticClass:"line-number"},[n._v("57")]),t("br"),t("span",{staticClass:"line-number"},[n._v("58")]),t("br"),t("span",{staticClass:"line-number"},[n._v("59")]),t("br"),t("span",{staticClass:"line-number"},[n._v("60")]),t("br"),t("span",{staticClass:"line-number"},[n._v("61")]),t("br"),t("span",{staticClass:"line-number"},[n._v("62")]),t("br"),t("span",{staticClass:"line-number"},[n._v("63")]),t("br"),t("span",{staticClass:"line-number"},[n._v("64")]),t("br"),t("span",{staticClass:"line-number"},[n._v("65")]),t("br"),t("span",{staticClass:"line-number"},[n._v("66")]),t("br"),t("span",{staticClass:"line-number"},[n._v("67")]),t("br"),t("span",{staticClass:"line-number"},[n._v("68")]),t("br"),t("span",{staticClass:"line-number"},[n._v("69")]),t("br"),t("span",{staticClass:"line-number"},[n._v("70")]),t("br"),t("span",{staticClass:"line-number"},[n._v("71")]),t("br"),t("span",{staticClass:"line-number"},[n._v("72")]),t("br"),t("span",{staticClass:"line-number"},[n._v("73")]),t("br"),t("span",{staticClass:"line-number"},[n._v("74")]),t("br"),t("span",{staticClass:"line-number"},[n._v("75")]),t("br"),t("span",{staticClass:"line-number"},[n._v("76")]),t("br"),t("span",{staticClass:"line-number"},[n._v("77")]),t("br"),t("span",{staticClass:"line-number"},[n._v("78")]),t("br"),t("span",{staticClass:"line-number"},[n._v("79")]),t("br"),t("span",{staticClass:"line-number"},[n._v("80")]),t("br"),t("span",{staticClass:"line-number"},[n._v("81")]),t("br"),t("span",{staticClass:"line-number"},[n._v("82")]),t("br"),t("span",{staticClass:"line-number"},[n._v("83")]),t("br"),t("span",{staticClass:"line-number"},[n._v("84")]),t("br"),t("span",{staticClass:"line-number"},[n._v("85")]),t("br"),t("span",{staticClass:"line-number"},[n._v("86")]),t("br"),t("span",{staticClass:"line-number"},[n._v("87")]),t("br"),t("span",{staticClass:"line-number"},[n._v("88")]),t("br"),t("span",{staticClass:"line-number"},[n._v("89")]),t("br"),t("span",{staticClass:"line-number"},[n._v("90")]),t("br"),t("span",{staticClass:"line-number"},[n._v("91")]),t("br"),t("span",{staticClass:"line-number"},[n._v("92")]),t("br"),t("span",{staticClass:"line-number"},[n._v("93")]),t("br"),t("span",{staticClass:"line-number"},[n._v("94")]),t("br"),t("span",{staticClass:"line-number"},[n._v("95")]),t("br"),t("span",{staticClass:"line-number"},[n._v("96")]),t("br"),t("span",{staticClass:"line-number"},[n._v("97")]),t("br"),t("span",{staticClass:"line-number"},[n._v("98")]),t("br"),t("span",{staticClass:"line-number"},[n._v("99")]),t("br"),t("span",{staticClass:"line-number"},[n._v("100")]),t("br"),t("span",{staticClass:"line-number"},[n._v("101")]),t("br"),t("span",{staticClass:"line-number"},[n._v("102")]),t("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);