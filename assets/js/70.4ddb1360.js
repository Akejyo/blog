(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{733:function(s,a,n){"use strict";n.r(a);var e=n(5),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("Unity制作2D小游戏")]),s._v(" "),n("h1",{attrs:{id:"day1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day1"}},[s._v("#")]),s._v(" Day1")]),s._v(" "),n("p",[s._v("尝试一天速通C#")]),s._v(" "),n("p",[s._v("前面的都好办，和C++啥的都大差不差，后面的给我看的云里雾里，要用的话再看吧")]),s._v(" "),n("p",[s._v("然后为了练练手去cf上找了俩简单题写")]),s._v(" "),n("p",[s._v("1594A，下面是用三种语言写的差别：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/wtf1.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/wtf2.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/wtf3.png")}}),s._v(" "),n("p",[s._v("乐")]),s._v(" "),n("p",[s._v("然后还有一道1709B：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/wtf4.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/wtf5.png")}}),s._v(" "),n("p",[s._v("只能说差距显著")]),s._v(" "),n("p",[s._v("C#读入数据真的很不方便，对于一次输入很多数据，中间用空格间隔的那种，C#基本就废了")]),s._v(" "),n("p",[s._v("最后我是Console.ReadLine()一整行，然后另定义了一个string[]，把读入的一整行Split了，然后遍历一遍Convert到数组里")]),s._v(" "),n("p",[s._v("就离谱啊🙃")]),s._v(" "),n("p",[s._v("下面是1709B用C#写的屎山")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nnamespace cftime\n{\n    class Helloworld\n    {\n        static void Main(string[] args)\n        {\n            int t;\n            t = 1;\n            long[] a = new long[200005];\n            long[] dam = new long[200005];\n            long[] dam2 = new long[200005];\n            //t = Convert.ToInt32(Console.ReadLine());\n            while (t != 0)\n            {\n                t--;\n                int n, m;\n                string wtf = Console.ReadLine();\n                string[] wocao = wtf.Split();\n                n = Convert.ToInt32(wocao[0]);\n                m = Convert.ToInt32(wocao[1]);\n                wtf = Console.ReadLine();\n                wocao = wtf.Split();\n                for (int i = 1; i <= n; i++)             \n                    a[i] = Convert.ToInt64(wocao[i - 1]);\n                for(int i = 2; i <= n; i++)\n                {\n                    if (a[i] <= a[i - 1])\n                        dam[i] += a[i - 1] - a[i];\n                    dam[i] += dam[i - 1];\n                }\n                for(int i = n - 1; i >= 1; i--)\n                {\n                    if (a[i] <= a[i + 1])\n                        dam2[i] += a[i + 1] - a[i];\n                    dam2[i] += dam2[i + 1];\n                }\n                while (m-- != 0)\n                {\n                    int l, r;\n                    wtf = Console.ReadLine();\n                    wocao = wtf.Split();\n                    l = Convert.ToInt32(wocao[0]);\n                    r = Convert.ToInt32(wocao[1]);\n                    if (l <= r)\n                        Console.WriteLine("{0}", dam[r] - dam[l]);\n                    else\n                        Console.WriteLine("{0}", dam2[r] - dam2[l]);\n                }\n            }\n        }\n    }\n}\n\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br")])]),n("h1",{attrs:{id:"day2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day2"}},[s._v("#")]),s._v(" Day2")]),s._v(" "),n("p",[s._v("找了很多Unity教程，我最开始的想法是直接找一个像素rpg的教程，方便我自己写"),n("s",[s._v("抄")]),s._v("。在b站翻了半天也没有称心的. 最后还是选了一个普通的2d横板游戏的教程（BV1W4411Z7UC），希望我看完后能写小rpg.")]),s._v(" "),n("p",[s._v("讲的很细，跟着做的时候基本没有出现问题. 今天跟着视频做了素材导入/画地图/图层/角色的左右朝向and水平移动and跳跃下落.")]),s._v(" "),n("h3",{attrs:{id:"素材导入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#素材导入"}},[s._v("#")]),s._v(" "),n("strong",[s._v("素材导入")]),s._v("：")]),s._v(" "),n("p",[s._v("​\t去Assets store下载，导就完事了.")]),s._v(" "),n("h3",{attrs:{id:"画地图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#画地图"}},[s._v("#")]),s._v(" "),n("strong",[s._v("画地图")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("左侧SampleScene创建2D Object→Tilemap；顶部栏的Window→2D→Tile Palette打开一个窗口，之后要把背景素材导入进去（记得新建一个map文件夹）.")])]),s._v(" "),n("li",[n("p",[s._v("导入素材前，需要把素材分割成单元，方便更好的绘图：点击素材的tileset→右侧inspector里的Sprite Mode调成Multiple→点击Sprite Editor进入编辑界面→顶部栏Slice的Type换成Grid By Cell Size，Pixel Size取俩16(因为我们的一个Unit取的是16个像素).")])]),s._v(" "),n("li",[n("p",[s._v("分割好后把素材拖到Tile Palette里，就可以在Scene里画图了.")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_1.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_2.png")}})])]),s._v(" "),n("h3",{attrs:{id:"图层"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图层"}},[s._v("#")]),s._v(" "),n("strong",[s._v("图层")]),s._v("：")]),s._v(" "),n("p",[s._v("​\t地图和背景需要分图层。")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("Sorting Layer的下拉菜单里点Adding Sorting Layer，在里面建俩Sorting Layer：Background和Frontground。回到原菜单，给地图和背景选择Sorting Layer，选项里越靠下的越在前面.")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_3.png")}})]),s._v(" "),n("li",[n("p",[s._v("也可以调Order in Layer.")])])]),s._v(" "),n("h3",{attrs:{id:"player"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#player"}},[s._v("#")]),s._v(" "),n("strong",[s._v("Player")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("导进来，Inspector的Rigibody 2D里把刚体的Freeze Rotation给选上，否则后面移动的时候会鬼畜.")])]),s._v(" "),n("li",[n("p",[s._v("Inspector下Add Component添加Capsule Collider 2D，这里教程用的是Box Collider 2D，但是好像有点问题. 点击一下Edit Collider调整碰撞体")])]),s._v(" "),n("li",[n("p",[s._v("同时还要给地图加碰撞体. 在Tilemap里Add Compoment 2D添加Tilemap Collider 2D")])]),s._v(" "),n("li",[n("p",[s._v("接下来要写移动，有关移动的名称/按键在顶部栏Edit→Project Setting→Input Manager里的Axes里查看. Player里Add组件Script，建议创一个Script文件夹把所有Script都放进去. 下面开始写码")]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("移动：")])]),s._v(" "),n("p",[s._v("首先要声明很多")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  \tpublic Rigidbody2D rb;//Player\n    public Animator anim;//动画\n    public Collider2D coll;//Player 碰撞体\n    public float speed;//移速\n    public float jumpforce;//跳跃\n    public LayerMask ground;//地图的碰撞体\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("这里要注意在Inspector里给设置一下，拖拽就行")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_4.png")}}),s._v(" "),n("p",[s._v("下面是函数部分")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('void Movement()\n    {\n        float horizontalmove = Input.GetAxis("Horizontal");//会获得-1~1的值\n        float facedircetion = Input.GetAxisRaw("Horizontal");//会获得-1、0、1中的一个值\n        if (horizontalmove != 0)//水平移动\n        {\n            rb.velocity = new Vector2(horizontalmove * speed, rb.velocity.y);\n            anim.SetFloat("running", Mathf.Abs(facedircetion));\n        }\n        //player朝向\n        if (facedircetion != 0)        \n            transform.localScale = new Vector3(facedircetion, 1, 1);\n        // 跳跃\n        if (Input.GetButtonDown("Jump"))\n        {\n            rb.velocity = new Vector2(rb.velocity.x, jumpforce);\n            anim.SetBool("jumping", true);\n        }\n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("动画：")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Player里Add组件Animator，创建文件夹Assets→Animation→Player→Player(前面的都是文件夹，这个是Animator Controller)，拖拽这个Controller到Player的Script里（上面有图显示了）")])]),s._v(" "),n("li",[n("p",[s._v("Window→Animation→Animation打开时间轴窗口，创建动画idle，把idle每一帧都导进去，调整时间。再开一个窗口：Window→Animation→Animator，这里能连线，做细节. 添加新动画，先在SampleScence里选中Player，然后就在时间轴那个窗口里添加就行.")])]),s._v(" "),n("li",[n("p",[s._v("动画的转换，可见下图")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_5.png")}}),s._v(" "),n("p",[s._v("这里要设置连线的Conditions设置，如jump到fall的线是falling is true && jumping is false，falling和jumping是在左侧Parameters里设置的bool量。")]),s._v(" "),n("p",[s._v("对于跳跃动画，fall转idle需要判断是否落地，也就是判断Player的碰撞体下端碰到地图的碰撞体了，得先设置一下地图的碰撞体.")]),s._v(" "),n("p",[s._v("地图Inspector里的Layer新建一个"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_6.png")}})]),s._v(" "),n("p",[s._v("Player的Script也要设置一下（上面的一个图里有），其余就是看代码。")])]),s._v(" "),n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('    void SwitchAnim()//切换动画这里结合Animator看\n    {\n        anim.SetBool("idle", false);\n        if (anim.GetBool("jumping"))\n        {\n            if (rb.velocity.y < 0)\n            {\n                anim.SetBool("jumping", false);\n                anim.SetBool("falling", true);\n            }\n        }\n        else if (coll.IsTouchingLayers(ground))//判断是否触地\n        {\n            anim.SetBool("falling", false);\n            anim.SetBool("idle", true);\n        }\n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])])])])])])]),s._v(" "),n("p",[s._v("全图：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d2_7.png")}}),s._v(" "),n("h1",{attrs:{id:"day3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day3"}},[s._v("#")]),s._v(" Day3")]),s._v(" "),n("h3",{attrs:{id:"镜头跟随"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜头跟随"}},[s._v("#")]),s._v(" "),n("strong",[s._v("镜头跟随")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("普通的办法是：给Main Camera新建一个Script，在里面获取Plaer的transform并Update到Main Camera.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    public Transform player;\n    void Update()\n    {\n        transform.position = new Vector3(player.position.x, player.position.y, -10f); \n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("更方便，效果更好的方法是利用Cinemachine的2D Camera. 在右侧SampleScene新建Cinemachine→2D Camera，将其Follow设置为Player即可. 在Body里有不少东西可以调整.")])]),s._v(" "),n("li",[n("p",[s._v('背景图ctrl+d复制几个拉长，新建Create Empty把所有的背景图都拉进去，给BackGround添加Polygon Collider 2D组件，调整边框到背景图的边界，勾上"Is Trigger"，拖到摄像头的Bounding Shape 2D里，这样做可以使摄像头不会超出背景图，即会被背景的碰撞体约束.')])]),s._v(" "),n("li",[n("p",[s._v("镜头会"),n("strong",[s._v("晃动")]),s._v("，有解法是把 CinemachineVirtualCamera 里三个轴的Damping都设置成0，我试了确实可以，但是镜头移动没有平滑感了，不大行. 最后改了CinemachineBrain里的Update Method为Fixed Update，效果很好.")])])]),s._v(" "),n("h3",{attrs:{id:"物品收集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#物品收集"}},[s._v("#")]),s._v(" "),n("strong",[s._v("物品收集")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("先是添加物品及加动画：新建Sprite，添加Animator组件，在文件夹Animation里新建Collections文件夹，里面新建Animator Controller，拖拽到Animator里. 新建Animation并加上动画.")])]),s._v(" "),n("li",[n("p",[s._v('给物件添加Box Collider 2D组件，勾选"Is Trigger".')])]),s._v(" "),n("li",[n("p",[s._v('给物件添加Tag："Collection"，在Player Controller的脚本里添加函数.')]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('    private void OnTriggerEnter2D(Collider2D collision)\n    {\n        if(collision.tag == "Collection")\n        {\n            Destroy(collision.gameObject);\n            Cherry++;\n        }\n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("即Player与物件碰撞后销毁物件并计数.")])]),s._v(" "),n("li",[n("p",[s._v("Assets里新建文件夹Perfabs(预制品)，把SampleScene里的物件拖进去，这样方便使用.")])])]),s._v(" "),n("h3",{attrs:{id:"跳跃部分的修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跳跃部分的修改"}},[s._v("#")]),s._v(" "),n("strong",[s._v("跳跃部分的修改")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("解决撞墙不掉落的问题：在Assets里新建物理材质Physics Material 2D，Friction调成0，拖到Player的碰撞体里. Player在斜坡上会滑，可以用俩碰撞体来解决.")])]),s._v(" "),n("li",[n("p",[s._v("我稍微改了一点教程里的，添加了从idle到fall的箭头，毕竟这是可能出现的情况.")])]),s._v(" "),n("li",[n("p",[s._v("解决无限跳的问题：判定触地了才能跳.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('   if (Input.GetButtonDown("Jump")  && coll.IsTouchingLayers(ground))\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("动画延迟，在线那里的has exit time取消掉.")])])]),s._v(" "),n("h3",{attrs:{id:"下蹲"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下蹲"}},[s._v("#")]),s._v(" "),n("strong",[s._v("下蹲")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("导动画素材.")])]),s._v(" "),n("li",[n("p",[s._v("按下S时把Player头部的碰撞体给取消掉，这样Player只有下面的碰撞体，可以穿过一格小的空间.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('        ...\n        public Collider2D Crouchcoll;\n        ...\n        if (Input.GetKey(KeyCode.S))\n        {\n            speed = 6f;//蹲下的时候速度当然慢啦\n            Crouchcoll.enabled = false;//取消头部碰撞体\n            anim.SetBool("crouch", true);\n        }\n        else\n        {\n            speed = 12f;\n            anim.SetBool("crouch", false);\n            Crouchcoll.enabled = true;\n        }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"物品收集数量显示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#物品收集数量显示"}},[s._v("#")]),s._v(" "),n("strong",[s._v("物品收集数量显示")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("SampleScene里新建UI→Canvas，里面新建UI→Legacy→Text. 分为不变的和变化的文本.")])]),s._v(" "),n("li",[n("p",[s._v("双击Canvas，调整text，尤其要注意定位"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d3_1.png")}})])]),s._v(" "),n("li",[n("p",[s._v("改一下脚本.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('...\npublic Text CherryNum;\n...\n private void OnTriggerEnter2D(Collider2D collision)//收集物品\n    {\n        if(collision.tag == "Cherry")\n        {\n            Destroy(collision.gameObject);\n            Cherry++;\n            CherryNum.text = Cherry.ToString();\n        }\n     \n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("在Player的脚本里把Text拖过去.")])])]),s._v(" "),n("p",[s._v("留个全图~")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d3_2.png")}}),s._v(" "),n("h1",{attrs:{id:"day4"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day4"}},[s._v("#")]),s._v(" Day4")]),s._v(" "),n("h3",{attrs:{id:"敌人-青蛙"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#敌人-青蛙"}},[s._v("#")]),s._v(" "),n("strong",[s._v("敌人(青蛙)")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("导模型、加动画.")])]),s._v(" "),n("li",[n("p",[s._v("设置为刚体，添加碰撞体.")])]),s._v(" "),n("li",[n("p",[s._v("简易AI：")]),s._v(" "),n("p",[s._v("​\t\t■ 教程里的普通青蛙：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("给青蛙建个脚本.")])]),s._v(" "),n("li",[n("p",[s._v("在Frog下新建俩标签，分别为Left和Right，上个色看着清楚"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d4_1.png")}}),s._v("  ，我们希望青蛙可以在范围内左右移动.")])]),s._v(" "),n("li",[n("p",[s._v("这两个标签的坐标会跟着Frog（其父亲）移动，所以在Start()里先获取标签的下标后保存起来.")])]),s._v(" "),n("li",[n("p",[s._v("判断青蛙与标签的坐标关系，更改图像和速度的方向.")]),s._v(" "),n("p",[s._v("■ 为啥说这是普通青蛙呢，这样的青蛙除了有idle的鼓嘴动作之外，就是很无聊的左右平移啊，素材里有jump的素材，可以利用一下.")])]),s._v(" "),n("li",[n("p",[s._v("各种游戏里青蛙移动方式似乎都是站着不动一会，然后跳一下，我们要实现的也是这样的.")])]),s._v(" "),n("li",[n("p",[s._v("首先得给青蛙弄个计时器.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    public float times;\n    public float clock = 3f;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("先给times赋初值clock，在Update()里让times每次更新都-Time.deltaTime，也就是系统一个时间，当times<0时在给times赋值clock，这样就做出循环了.")])]),s._v(" "),n("li",[n("p",[s._v("times<0时，把anim的jump给开了，然后给青蛙速度赋个值、水平和竖直方向都要有. 竖直方向速度为负数时把anim的fall打开，触底时idle打开，关其他俩，同时速度归零.")])]),s._v(" "),n("li",[n("p",[s._v("图像转向的部分，要判断是触地了才能转向，否则在空中图像变了速度方向没变就很鬼畜...")])])]),s._v(" "),n("p",[s._v("效果图：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d4_2.png")}}),s._v(" "),n("p",[s._v("​\t■ 后来我发现我做的这些都在后面的教程里有？好离谱...包括我做的那个从idle到fall的转化. 这青蛙的码塞到最后吧，好歹花了我不少时间.")]),s._v(" "),n("p",[s._v("​\t■ 后面教程做的青蛙跳跃是用了event来延长动画，就是加了一个空的动画节点，在这个节点可以调用青蛙脚本里的Movement()，然后把Update()里的Movement()给删了，这样Movement()函数就不是反复执行，而是在特定时间节点才执行了. 和我那种方法感觉是各有优缺吧.")])])]),s._v(" "),n("h3",{attrs:{id:"hurt"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hurt"}},[s._v("#")]),s._v(" "),n("strong",[s._v("Hurt")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("添加bool值hurt，true时播放hurt动画.")])]),s._v(" "),n("li",[n("p",[s._v("Hurt要反弹一下，具体代码见下(就硬写三目运算🤣).")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("if (!isHurt) {\n\trb.velocity = new Vector2(5 * (transform.position.x < collision.gameObject.transform.position.x ? -1 : 1), rb.velocity.y);\n\tisHurt = true;\n    Jump_();//反弹当然要跳一下~\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("因为Update()的问题，Hurt的动画可能会播不出来，在Update()里加个判断条件，不受伤的情况下才执行Movement().")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("if(!isHurt) Movement();\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("Hurt的刷新在SwitchAnim()里写.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('        if (isHurt) {\n            anim.SetBool("hurt", true);\n            if(Mathf.Abs(rb.velocity.x) < 0.1f) {\n                anim.SetBool("idle", true);\n                anim.SetBool("hurt", false);\n                isHurt = false;\n            }\n        }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("效果图：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d4_3.png")}})])]),s._v(" "),n("h3",{attrs:{id:"父类继承and死亡动画"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#父类继承and死亡动画"}},[s._v("#")]),s._v(" "),n("strong",[s._v("父类继承and死亡动画")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("敌人很多，但都有死亡动画. 且我们希望在Player的碰撞敌人函数里来执行敌人的动画.")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("新建脚本Enemy，这个Enemy要给其所有子类用，其Start()为protected virtual void Start()，virtual是为了子类也可以更改.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("protected virtual void Start() {anim = GetComponent<Animator>();}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("在Enemy里编写死亡动画部分，分两个")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("void Death() { Destroy(gameObject);}//销毁物件\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('public void JumpOn() { anim.SetTrigger("death");}//打开death的trigger\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("以青蛙为例，")]),s._v(" "),n("p",[s._v("其class改为：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("public class Enemy_Frog : Enemy{...}// :是继承\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("其Start()改为：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("protected override void Start(){\n\tbase.Start();//启动其父类的Start()\n\t...\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("因为用了其父类的Star()，anim被创建了，frog自己就无需提前创建anim.")]),s._v(" "),n("p",[s._v("然后在Player的脚本里，敌人交互部分，获取碰撞的敌人：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Enemy enemy = collision.gameObject.GetComponent<Enemy>();\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("判断是踩上去的后，直接就能用enemy的函数JumpOn()来启动敌人死亡.")])]),s._v(" "),n("li",[n("p",[s._v("再提一下这个东西是Trigger")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d4_4.png")}})])])]),s._v(" "),n("li",[n("p",[s._v("死亡销毁物件：")]),s._v(" "),n("p",[s._v("给死亡动画的Animation加一个event，放在动画结束的地方，执行Death()函数.")])])]),s._v(" "),n("h3",{attrs:{id:"音效"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#音效"}},[s._v("#")]),s._v(" "),n("strong",[s._v("音效")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("BGM：给Player加Audio source，将音源拖进去，勾选Play On Awake（游戏开始时就播放），Loop（循环）")])]),s._v(" "),n("li",[n("p",[s._v("敌人爆炸：不要勾Play On Awake，打开Enemy脚本. 添加：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('...\n protected AudioSource deathAudio;\n...\n    public void JumpOn() {\n        anim.SetTrigger("death");\n        deathAudio.Play();//这里\n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("跳跃音效：新建Audio Source，把音效拖进去，在Player脚本的跳跃部分播放音效，注意要把音效拖到Scprit里"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d4_5.png")}})])]),s._v(" "),n("li",[n("p",[s._v("收集物品的音效，我开始是给物品加了脚本，然后弄了好久也没成功，最后干脆直接给Player又加了一个音效（")])])]),s._v(" "),n("h3",{attrs:{id:"其他"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" "),n("strong",[s._v("其他")]),s._v("：")]),s._v(" "),n("ol",[n("li",[s._v("改了踩敌人的判定，之前是当前动画为fall是可以踩，但由于我设置可以在空中蹲（高难动作钻缝），改成了判定当前速度为向下.")])]),s._v(" "),n("hr"),s._v(" "),n("h4",{attrs:{id:"青蛙自动左右跳跃移动的码-没有继承enemy的"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#青蛙自动左右跳跃移动的码-没有继承enemy的"}},[s._v("#")]),s._v(" 青蛙自动左右跳跃移动的码（没有继承Enemy的）：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Enemy_Frog : MonoBehaviour {\n    private Rigidbody2D rb;\n    public Transform leftpoint, rightpoint;\n    public float speed, jumpforce;\n    public int Face = 1;//1朝左，-1朝右\n    private float Leftx, Rightx;//左右边界的位置\n\n    private Animator anim;//动画\n    public float times;\n    public float clock = 3f;\n\n    public Collider2D coll;//Frog 碰撞体\n    public LayerMask ground;//地图的碰撞体\n    void Start() {\n        rb = GetComponent<Rigidbody2D>();\n        anim = GetComponent<Animator>();\n        Leftx = leftpoint.position.x;\n        Rightx = rightpoint.position.x;\n        Destroy(leftpoint.gameObject);\n        Destroy(rightpoint.gameObject);\n        times = clock;\n    }\n\n    void Update() {\n        times -= Time.deltaTime;\n        Movement();\n    }\n    void Movement() {\n        //起跳\n        if (times <= 0) {\n            times = clock;\n            rb.velocity = new Vector2(speed * Face, jumpforce);\n            anim.SetBool("jump", true);\n            anim.SetBool("idle", false);\n        }\n        if (anim.GetBool("jump")) {\n            if (rb.velocity.y > 0) return;\n            //下落\n            if (rb.velocity.y < 0) {\n                anim.SetBool("jump", false);\n                anim.SetBool("fall", true);\n            }\n        }\n        //触地\n        if (coll.IsTouchingLayers(ground)) {\n            rb.velocity = new Vector2(0, 0);\n            anim.SetBool("fall", false);\n            anim.SetBool("idle", true);\n        }\n        //rb.velocity = new Vector2(speed*Face, rb.velocity.y);\n        if (!anim.GetBool("idle")) return;\n        if (Face==1) {\n            if (transform.position.x <= Leftx) {\n                Face *= -1;\n                transform.localScale = new Vector3(Face,1,1);\n            }\n        }\n        else {\n            if (transform.position.x >= Rightx) {\n                Face *= -1;\n                transform.localScale = new Vector3(Face, 1, 1);\n            }\n        }\n    }\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br")])]),n("h1",{attrs:{id:"day5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day5"}},[s._v("#")]),s._v(" Day5")]),s._v(" "),n("h3",{attrs:{id:"dialog"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dialog"}},[s._v("#")]),s._v(" Dialog：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("Canvas里新建UI→Panel，命名EnterDialog，这个是对话框. 下面新建Text写内容.")])]),s._v(" "),n("li",[n("p",[s._v("给门（hourse）新建碰撞体和脚本：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('...\npublic GameObject enterDialog;\n...\n\tprivate void OnTriggerEnter2D(Collider2D collision) {\n        if(collision.tag == "Player") {\n            enterDialog.SetActive(true);\n        }\n    }\n    private void OnTriggerExit2D(Collider2D collision) {//离开时\n        if (collision.tag == "Player") {\n            enterDialog.SetActive(false);\n        }\n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("要把那个EnterDialog拖到hourse的脚本里，初始把Active给关了.")])]),s._v(" "),n("li",[n("p",[s._v("设置对话框的出现对话：")]),s._v(" "),n("ul",[n("li",[s._v("Assets新建Dialog文件夹，新建Dialog的Animation，直接拖给EnterDialog就能自动填上Animator.")]),s._v(" "),n("li",[s._v("录制：点这个"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_1.png")}}),s._v("  ，先把EnterDialog和里面的Test透明度都调成0，在后面一点的时间里在把透明度调回来.")])])])]),s._v(" "),n("h3",{attrs:{id:"蹲下的修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#蹲下的修改"}},[s._v("#")]),s._v(" 蹲下的修改：")]),s._v(" "),n("p",[s._v("​\t在障碍物下面蹲，起来会卡模型，不能让Player起来.")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("在Player下Create Empty，命名ceiling，调整到Player头顶.")])]),s._v(" "),n("li",[n("p",[s._v("修改Player脚本.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("...\npublic Transform ceilingCheck;\n...\n//下蹲\nif(!Physics2D.OverlapCircle(ceilingCheck.position, 0.2f, ground)){//判断Player头有无障碍\n...           \n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("别忘了把ceiling拖到Player的脚本里.")])])]),s._v(" "),n("h3",{attrs:{id:"死亡重置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#死亡重置"}},[s._v("#")]),s._v(" "),n("strong",[s._v("死亡重置")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("Create Empty命名DeadLine，拉到地图下面，给它一个标签DeadLine.")])]),s._v(" "),n("li",[n("p",[s._v("修改Player脚本.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('using UnityEngine.SceneManagement;\n...\nprivate void OnTriggerEnter2D(Collider2D collision) {\n...\n\tif(collision.tag == "DeadLine") {\n\t\tGetComponent<AudioSource>().enabled = false;//关闭所有音乐\n\t\tInvoke("Restart", 2f);//延迟两秒执行函数\n    }\n...\n}\nvoid Restart() {\n    SceneManager.LoadScene(SceneManager.GetActiveScene().name);//重载当前场景\n}\n...\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"换场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#换场景"}},[s._v("#")]),s._v(" "),n("strong",[s._v("换场景")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("新建脚本.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("using UnityEngine.SceneManagement;\n...\nvoid Update() {\n    if (Input.GetKeyDown(KeyCode.E)) {//进入当前场景的下一个场景\n        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex+1);\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("把这个脚本拖到EnterDalog上去.")])])]),s._v(" "),n("h3",{attrs:{id:"_2d光源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2d光源"}},[s._v("#")]),s._v(" "),n("strong",[s._v("2D光源")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("给背景、地图添加材质Default-Diffuse"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_2.png")}})])]),s._v(" "),n("li",[n("p",[s._v("素材文件夹里新建Material，将其Shader设置成Sprites/Diffuse，拖给Player的材质用.")])]),s._v(" "),n("li",[n("p",[s._v("新建Light→Point Light,可以放在地图上的火苗位置.")])]),s._v(" "),n("li",[n("p",[s._v("在Player下新建点光源，让Player一直有一点光.")])]),s._v(" "),n("li",[n("p",[s._v("整个场景的光：新建Light→Directional Light.")])]),s._v(" "),n("li",[n("p",[s._v("光是3D的，注意z轴.")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_3.png")}})])]),s._v(" "),n("h3",{attrs:{id:"视觉差"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视觉差"}},[s._v("#")]),s._v(" "),n("strong",[s._v("视觉差")]),s._v("：")]),s._v(" "),n("p",[s._v("​\t就是让不同远近的场景交错跟着摄像机移动.")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("新建脚本Parallax，我们希望场景跟随相机的速度有倍率关系.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("public Transform Cam;\npublic float moveRate;\nprivate float startPoint;\nvoid Start() {\n    startPoint = transform.position.x;\n}\nvoid Update() {\n    transform.position = new Vector2(startPoint + Cam.position.x * moveRate, transform.position.y);\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("这是x轴方向的，还可以添加y轴方向，做Flag来设置哪个方向是需要的.")])]),s._v(" "),n("li",[n("p",[s._v("把Parallax直接拖到BackGround或者其他需要视觉差的.")])])]),s._v(" "),n("h3",{attrs:{id:"主菜单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主菜单"}},[s._v("#")]),s._v(" 主菜单")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("新建Scene：Menu.")])]),s._v(" "),n("li",[n("p",[s._v("新建Panel：background，导入图片（Source Image）.")])]),s._v(" "),n("li",[n("p",[s._v("为了让背景是渐变出现，添加动画，录制.")])]),s._v(" "),n("li",[n("p",[s._v("Menu新建脚本.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('...\nusing UnityEngine.SceneManagement;\n...\n    public void PlayGame() {//开始\n        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex + 1);\n    }\n    public void QuitGame() {//退出\n        Application.Quit();\n    }\n    public void UIEnable() {//UI是否可见\n        GameObject.Find("Canvas/MainMenu/UI").SetActive(true);\n    }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[n("strong",[s._v("注意")]),s._v("要把Menu这个Scene添加到File→Build Setting里的最上面")])]),s._v(" "),n("li",[n("p",[s._v("Menu下新建两个Button：Play、Quit，设置文字.")])]),s._v(" "),n("li",[n("p",[s._v("在Button的On Click()，把Menu拖进去，设置函数"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_4.png")}})])]),s._v(" "),n("li",[n("p",[s._v("让背景渐变结束后才出现Button，Menu动画添加事件，设置函数.")])])]),s._v(" "),n("h3",{attrs:{id:"暂停游戏及音量调节"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#暂停游戏及音量调节"}},[s._v("#")]),s._v(" 暂停游戏及音量调节")]),s._v(" "),n("p",[s._v("​\t~~~~"),n("strong",[s._v("暂停游戏")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("首先做一个Pause按钮，在Canvas下新建Button，设置文字Pause.")])]),s._v(" "),n("li",[n("p",[s._v("方便起见直接继续在Menu的脚本里写. 加函数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    public void PauseGame() {\n        pauseMenu.SetActive(true);\n        Time.timeScale = 0f;//时间Scale变0\n    }\n    public void ContinueGame() {\n        pauseMenu.SetActive(false);\n        Time.timeScale = 1f;\n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("分别是打开PauseMenu和关闭")])]),s._v(" "),n("li",[n("p",[s._v("Canvas下新建Panel，里面不少东西"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_5.png")}})]),s._v(" "),n("p",[s._v("出来这样的图："),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_6.png")}})])]),s._v(" "),n("li",[n("p",[s._v("Menu的脚本拖给Canvas，再把Canvas拖进Pause按钮的On Click()里，设置函数PauseGame; Continue按钮同理.")])]),s._v(" "),n("li",[n("p",[s._v("注意定位.")])])]),s._v(" "),n("p",[s._v("​\t~~~~"),n("strong",[s._v("调节音量")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("Assets里新建Audio Mixer，命名MainMixer.")])]),s._v(" "),n("li",[n("p",[s._v("Menu里添加代码.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('using UnityEngine.Audio;\n...\npublic AudioMixer audioMixer;\n...\npublic void SetVolume(float val) {\n    audioMixer.SetFloat("MainVolume", val);\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("获得输入的值，将值赋给audioMixer.")])]),s._v(" "),n("li",[n("p",[s._v("正常来说是不支持赋值的，在MainMixer里，点击Master，右键Volume将其设置成可被代码编辑的，同时改一下名字"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_7.png")}}),s._v(" ，改的名字就是在那个函数里用的字符串.")])]),s._v(" "),n("li",[n("p",[s._v("Canvas，把MainMixer拖进Audio Mixer里.")])]),s._v(" "),n("li",[n("p",[s._v("VolumeSlider，把Canvas拖进On Value Changed(Single)，注意点看图"),n("img",{attrs:{src:s.$withBase("/2d_1-7/d5_8.png")}})])]),s._v(" "),n("li",[n("p",[s._v("VolumeSlider的Min Value设置成-80，Max Value设置成0.")])])]),s._v(" "),n("h3",{attrs:{id:"可以从下面跳上去的平台"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#可以从下面跳上去的平台"}},[s._v("#")]),s._v(" 可以从下面跳上去的平台")]),s._v(" "),n("ol",[n("li",[s._v("这类特殊平台需要创建新Tilemap管理")]),s._v(" "),n("li",[s._v("画一个平台，加上Tilemap Collider 2D，勾选Used By Effector")]),s._v(" "),n("li",[s._v("加组件Platform Effector 2D，不要勾选Use Collider Mask")])]),s._v(" "),n("h3",{attrs:{id:"更好的管理音效"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更好的管理音效"}},[s._v("#")]),s._v(" 更好的管理音效")]),s._v(" "),n("p",[s._v("​\t在熬夜...")]),s._v(" "),n("p",[s._v("​\t总结来说，就是创建了一个空物件，添加脚本，里面写上播放各种音效的函数，设置静态class，将Player上的音效利用这个静态class直接播放.")]),s._v(" "),n("p",[s._v("​\t好困...")]),s._v(" "),n("h3",{attrs:{id:"优化代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#优化代码"}},[s._v("#")]),s._v(" "),n("strong",[s._v("优化代码？")]),s._v("：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("Player脚本换成FixedUpdate()，Time.DeltaTime换成Time.fixedDeltaTime，获取跳跃按键换成GetButton().")])]),s._v(" "),n("li",[n("p",[s._v("改了敌人碰撞部分，在Death()里加.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" GetComponent<Collider2D>().enabled = false;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("直接禁用.")])]),s._v(" "),n("li",[n("p",[s._v("防止一个物件计数两次：这里改的真的莫名其妙的，其实我本来就没有这个问题，但还是记录一下")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("给Cherry加获得的动画，最后加个事件")])]),s._v(" "),n("li",[n("p",[s._v("Cherry脚本里")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("   public void Death() {\n        Destroy(gameObject);\n        FindObjectOfType<PlayerController>().CherryCount();\n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("Player脚本里")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('...\nvoid FixedUpdate(){\n...\n\tCherryNum.text = Cherry.ToString();//奇妙的延迟问题\n...\n}\n...\nprivate void OnTriggerEnter2D(Collider2D collision) {\n    if (collision.tag == "Cherry") {//樱桃\n        collectAudio.Play();\n        collision.GetComponent<Animator>().Play("isGot");//播放获得动画\n    }\n}\npublic void CherryCount() {\n    Cherry++;\n}\n...\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("Cherry的获得动画那个事件选上Death()")])])])])]),s._v(" "),n("h3",{attrs:{id:"打包游戏"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打包游戏"}},[s._v("#")]),s._v(" 打包游戏")]),s._v(" "),n("p",[s._v("Build...")]),s._v(" "),n("h1",{attrs:{id:"day6-8"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day6-8"}},[s._v("#")]),s._v(" Day6-8")]),s._v(" "),n("p",[n("strong",[s._v("Day6")]),s._v("：")]),s._v(" "),n("p",[s._v("摆烂了两天...主要是不知道怎么开始，一点思路也没有.")]),s._v(" "),n("p",[s._v("不过现在要开始啦😤 *新建文件夹.")]),s._v(" "),n("p",[s._v("今天稍微编了一点设定，画了一点素材.")]),s._v(" "),n("p",[s._v("设定的话，想设计成吸血鬼方向的.（白毛红瞳🤤）")]),s._v(" "),n("p",[s._v("素材，这里留点图吧：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d6_1.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d6_2.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d6_3.png")}}),s._v(" "),n("p",[s._v("还没画人物，主角想多问问其他人的意见")]),s._v(" "),n("hr"),s._v(" "),n("p",[n("strong",[s._v("Day7")]),s._v("：")]),s._v(" "),n("p",[s._v("又画了一点素材，进度有点慢（我是真不会画啊艹）")]),s._v(" "),n("p",[s._v("留点图")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d7_1.jpg")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d7_2.jpg")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d7_3.jpg")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d7_4.jpg")}}),s._v(" "),n("p",[s._v("这张主角草稿主要参考了有一张铃兰的图（铃兰...我的铃兰🤤...我没有啊😭）")]),s._v(" "),n("hr"),s._v(" "),n("p",[n("strong",[s._v("Day8：")])]),s._v(" "),n("p",[s._v("寄啊，这进度是真滴慢...")]),s._v(" "),n("p",[s._v("今天弄了主角的左右移动，还画了主角寄的动画，然后这一天就过去了...")]),s._v(" "),n("p",[s._v("所幸是我找到背包系统、对话啥的教程在哪了（还是之前那个up有教）")]),s._v(" "),n("p",[s._v("留图：")]),s._v(" "),n("p",[s._v("是我女儿了现在🤤")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d8_1.JPG")}}),s._v(" "),n("p",[s._v("像素图：")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d8_2.png")}}),s._v(" "),n("p",[s._v("还有些图过于雪芯就不放了...")]),s._v(" "),n("h1",{attrs:{id:"day9-11"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day9-11"}},[s._v("#")]),s._v(" Day9-11")]),s._v(" "),n("p",[n("strong",[s._v("Day9")])]),s._v(" "),n("p",[s._v("今天主要弄了背包，这背包要弄的东西是真的多")]),s._v(" "),n("h4",{attrs:{id:"背包ui"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背包ui"}},[s._v("#")]),s._v(" 背包UI")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("我这里其实只画了一个这个图就行了")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d9_1.png")}}),s._v(" "),n("p",[s._v("主要是放物件的格子和文本框")]),s._v(" "),n("p",[s._v("先丢个b站教程在这里，我觉得照着做非常舒服BV1YJ41197SU")]),s._v(" "),n("p",[s._v("等我有时间了在看看能不能补一下这里（其实是我自己也没太搞明白）")]),s._v(" "),n("p",[n("strong",[s._v("Day10")]),s._v(" "),n("strong",[s._v("Day11")])]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("啥也不会，也看不懂...")]),s._v(" "),n("p",[s._v("抄教程的话，抄的云里雾里，而且由于我看的教程比较杂，抄了会有各种各样的问题（")]),s._v(" "),n("p",[s._v("最后还是全靠自己写的（连蒙带猜就胡写出来了")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("切换场景的影流之主BUG")])])]),s._v(" "),n("p",[s._v("首先切换场景的话，可以看那个教程里写的. 这里我出现了BUG，就是我无法卸载场景，然后会有两个，甚至三个同样的场景同时出现，于是就出现了影流之主的奇妙场面")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d10_1.png")}}),s._v(" "),n("p",[s._v("我把教程里切换场景的码看了好多遍，然后网上也查到了相同的情况，试了很多解决方案都寄了. 最后我到官网手册去查，这一查就查出来了")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d10_2.png")}}),s._v(" "),n("p",[s._v("我的函数是照着教程里写的，先卸载再加载，但我的场景布置和教程不一样. 我的场景是分开的，教程里是在一起的，也就是说我的场景只会同时出现一个，也就不能卸载.")]),s._v(" "),n("p",[s._v("解决方法也就简单了，先加载再卸载即可.")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("警惕背包演人")])])]),s._v(" "),n("p",[s._v("关于背包最开始也有一点BUG. 虽然我的背包可以永久存储信息，但我的背包UI再第二次打开游戏时是空的，也就是没有把inventory里的信息弄出来，背包存了个寂寞的信息. 我是给"),n("strong",[s._v("inventoryManger")]),s._v("加了Start，让它一开始就遍历Bag把东西都加载出来，效果很好.")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    ...\n    private void Start() {\n        for (int i = 0; i < instance.Bag.itemList.Count; i++)\n            CrateNewItem(instance.Bag.itemList[i]);\n    }\n    ...\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("吃掉的就别吐出来啊")])])]),s._v(" "),n("p",[s._v("背包还有一个需要解决的问题， 反复切换场景，会发现之前吃掉的物品又被加载出来了. 我在看了各方教程后选择用字典来存储改物件是否被吃掉了，在加载场景时，如果发现该物件已经被收集，就直接Destory. 这部分我写在"),n("strong",[s._v("itemOnWorld")]),s._v("(教程里叫slot好像吧)的Awake函数里")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("   ...\n   private void Awake() {\n        if (playerInventory.itemAvailabeDict[itemName]) {\n            Destroy(gameObject);\n        }\n    }\n    ...\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("这里的playerInventory.itemAvailabeDict即使字典，在"),n("strong",[s._v("inventory")]),s._v("里我们加上这个字典：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("...\npublic class inventory : ScriptableObject {\n    public Dictionary<ItemName, bool> itemAvailabeDict = new Dictionary<ItemName, bool>();\n    public List<item> itemList = new List<item>();\n}\n...\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("Player吃掉物件时将其bool值改一下就行了.")]),s._v(" "),n("h1",{attrs:{id:"day12"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day12"}},[s._v("#")]),s._v(" Day12")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Button无效BUG")])])]),s._v(" "),n("p",[s._v("在做其他场景的时候的出现了一点问题，就是我在其他场景里的背包无法使用Button，网上查到原因是没有加EventSystem.")]),s._v(" "),n("p",[s._v("我对这玩意真是没啥印象，我之前甚至觉得没用想在第一个场景里也给删了...加上就好了")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("翻柜子")])])]),s._v(" "),n("p",[s._v('我不大想做那种带UI的，甚至有鼠标点击的翻柜子. 我做了个极其简单的. 到柜子附近按"E"就会将柜子下的子物件（即要放在柜子里的item）设置为active. 这里需要找到一个物件的子物件.')]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(' ...//这里是Player的碰撞检测\n switch (collisionNow.tag) {\n ...\n            case "Cabinet"://打开柜子，翻出物件\n                collisionNow.transform.GetChild(0).gameObject.SetActive(true);//将第一个子物件显示\n                break;\n ...\n        }\n ...\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("判断是否拿到了铲子")])])]),s._v(" "),n("p",[s._v("设置tag可以轻松解决，但是tag越多，码越丑. 我考虑到有个物品ID的东西就试了一下，开始确实是成功了，然后过一会就寄了，我发现ID变了. 我可以一开始就记录ID，感觉好像和再加一个tag也没啥区别了（")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("BUG: 切换场景时Player的信息没了（如已经获得了铲子")])])]),s._v(" "),n("p",[s._v("在inventoy里记录一下，然后Player的Start里给is_Shovel用inventory里的赋值就行")]),s._v(" "),n("h1",{attrs:{id:"day13-14"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day13-14"}},[s._v("#")]),s._v(" Day13-14")]),s._v(" "),n("p",[s._v("对于关卡的设计，今天有了一些想法")]),s._v(" "),n("p",[s._v("多个Player，但不在同一地点，Player的移动是互相链接的，每个Player都在一个迷宫里")]),s._v(" "),n("p",[s._v("我是这样实现上面的操作的：给其中一个Player添加多个碰撞体，其余Player跟随这个Main Player移动")]),s._v(" "),n("p",[s._v("需要注意碰撞体的LocalScale也要变")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("做了迷宫")]),s._v(" "),n("p",[s._v("特点：左右镜像移动，需要左右的Player都到达目的地才能场景互动")]),s._v(" "),n("p",[s._v("没遇到啥bug~留个图")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d14-1.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d14-2.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d14-3.png")}}),s._v(" "),n("h1",{attrs:{id:"day15-16"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day15-16"}},[s._v("#")]),s._v(" Day15-16")]),s._v(" "),n("p",[s._v("鹰角你坏事（夏活）做尽，摆烂好久...")]),s._v(" "),n("p",[s._v("从迷宫到下一个场景的时候再次出现了影流之主bug，分明之前都解决过的，这又出现了我查了好久没有一点头绪.")]),s._v(" "),n("p",[s._v("最后找到了这一切的罪魁祸首")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("        yield return SceneManager.LoadSceneAsync(to, LoadSceneMode.Additive);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("这是TransitionManger的部分，最后那个Additive会让场景叠加，改成"),n("strong",[s._v("Single")]),s._v("就会自动删除多余的")]),s._v(" "),n("p",[s._v("留个图")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/2d_1-7/d15_1.png")}}),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("后面做了很多天，加了追逐战（用的iwanna的那个）啥的")]),s._v(" "),n("p",[s._v("基本上没啥可加的了（懒的写了）")])])}),[],!1,null,null,null);a.default=t.exports}}]);