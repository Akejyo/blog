(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{701:function(t,s,n){"use strict";n.r(s);var a=n(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("思维")]),t._v(" "),n("h1",{attrs:{id:"j-魔法商店"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#j-魔法商店"}},[t._v("#")]),t._v(" J. 魔法商店")]),t._v(" "),n("p",[n("strong",[t._v("题意")]),t._v("：有"),n("strong",[t._v("n")]),t._v("件商品，每个商品有价值"),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("msub",[n("mi",[t._v("v")]),n("mi",[t._v("i")])],1)],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_i")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),n("span",{staticClass:"base textstyle uncramped"},[n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[t._v("i")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v("，同时有"),n("strong",[t._v("n")]),t._v("张面值分别为"),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("msub",[n("mi",[t._v("w")]),n("mi",[t._v("i")])],1)],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w_i")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),n("span",{staticClass:"base textstyle uncramped"},[n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02691em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[t._v("i")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v("的纸币。每个商品只能用一张纸币购买且不找零。"),n("strong",[t._v("k")]),t._v("次法术，每次法术可任意改变一张纸币的面值。求"),n("strong",[t._v("支付")]),t._v("的最小钱面值和（或买不完）。")]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("分析：")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("首先，对于面值与商品价值相等的纸币，直接拿去买是一定不会吃亏的：若面值过大，可能会过剩（虽然可以用法术减少面值，但是消耗法术不值当）；面值过小，会消耗法术。因此"),n("u",[t._v("先将纸币面值和商品价值相等的纸币和商品挑出来加到ans里")]),t._v("。")])]),t._v(" "),n("li",[n("p",[t._v("对于剩下的商品，先不管法术，考虑用与商品价值最接近且大于的那张纸币去买。但这里就会出现一个细节问题，是按商品价值从小到大去找钱还是从大到小？假设法术的次数不足以让所有纸币都变成恰好等于商品价值，那么用法术把小钱变大显然是变的越小越好，因为这样才可以保证"),n("strong",[t._v("支付")]),t._v("的面值和最小。")]),t._v(" "),n("ul",[n("li",[t._v("若是按从小到大遍历：先把便宜的几件商品用（过剩的）纸币买了，对于买不起的商品用法术改变面值去买，此时是拿非常小的钱去变非常贵的商品，简直浪费前面那几张大钱")]),t._v(" "),n("li",[t._v("若是按从大到小遍历：贵的钱拿大的面值去买，啥也买不起的小钱用法术变成对应的小面额买便宜商品，与上面那种情况相比，钱浪费的更少，是更优的选择")])]),t._v(" "),n("p",[t._v("综上，"),n("u",[t._v("按商品价值从大到小去找钱，拿与商品价值最接近且大于的那张纸币去买")]),t._v("（multiset里的lower_bound()），拿商品价值更新ans，同时"),n("u",[t._v("记录一下钱币过剩的面值")]),t._v("。若买不起就增加一次法术使用次数，法术不够用了就寄了输出NIE。")])]),t._v(" "),n("li",[n("p",[t._v("现在到了最终阶段：处理过剩的面值（假如法术还有剩余），按过剩面值从大到小，ans减去前k'个(k'是法术剩余量)过剩面值。结束。")])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('#include <bits/stdc++.h>\ntemplate<typename T>\ninline void read(T& x) {\n\tx = 0; char c = getchar();\n\twhile (!isdigit(c))c = getchar();\n\twhile (isdigit(c)) { x = x * 10 + c - \'0\'; c = getchar(); }\n}\n#define si(a) read(a)\n#define sii(a,b) read(a),read(b)\n#define siii(a,b,c) read(a),read(b),read(c)\n#define fl float\n#define ll long long int\n#define ull unsigned long long int\nusing namespace std;\nint gcd(int a, int b) { return a == 0 ? b : gcd(b % a, a); }\nint jd(int a) { return a < 0 ? (a * -1) : a; }\n//int fa[5000100];\n//inline signed gf(int x) { return fa[x] == x ? x : fa[x] = gf(fa[x]); }\nconst ll MOD = 998244353;\nint n, m, k;\nmultiset<ll>money, goods;\nmultiset<ll, greater<ll> >duo, mag;//降序\nll an, an_le;\nint cut;\nvoid solve() {\n\tsii(n, k);\n\tfor (int i = 1; i <= n; i++) {\n\t\tll tem; si(tem);\n\t\tmoney.emplace(tem);\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tll tem; si(tem);\n\t\tgoods.emplace(tem);\n\t}\n\tauto tem = money.begin();\n\tfor (auto it : goods) {\n\t\tif ((tem = money.find(it)) != money.end()) {//找等于的钱，一一匹配\n\t\t\tan += *tem;\n\t\t\tmoney.erase(tem);\n\t\t}\n\t\telse\n\t\t\tduo.emplace(it);\n\t}\n\tif (!money.empty()) {//存在没有一一匹配的\n\t\tfor (auto it : duo)\n\t\t\tif ((tem = money.lower_bound(it)) != money.end()) {\n\t\t\t\tan += it;\n\t\t\t\tmag.emplace(*tem - it);//mag存过剩的钱\n\t\t\t\tmoney.erase(tem);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tan_le += it;//记录一下买不起的\n\t\t\t\tcut++;//记录一下买不起的数量\n\t\t\t}\n\t}\n\tint k_left = k-cut;\n\tif (k_left<0) {\n\t\tprintf("NIE");\n\t\treturn;\n\t}\n\tan += an_le;\n\tif (!mag.empty()) {\n\t\tfor (auto it : mag) {\n\t\t\tif (k_left <= 0)\n\t\t\t\tan += (ll)it;\n\t\t\tk_left--;\n\t\t}\n\t}\n\tprintf("%lld\\n", an);\n}\nint main() {\n\tint t;\n\t/*si(t);\n\twhile (t--)*/\n\tsolve();\n\treturn 0;\n}\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br"),n("span",{staticClass:"line-number"},[t._v("64")]),n("br"),n("span",{staticClass:"line-number"},[t._v("65")]),n("br"),n("span",{staticClass:"line-number"},[t._v("66")]),n("br"),n("span",{staticClass:"line-number"},[t._v("67")]),n("br"),n("span",{staticClass:"line-number"},[t._v("68")]),n("br"),n("span",{staticClass:"line-number"},[t._v("69")]),n("br"),n("span",{staticClass:"line-number"},[t._v("70")]),n("br"),n("span",{staticClass:"line-number"},[t._v("71")]),n("br"),n("span",{staticClass:"line-number"},[t._v("72")]),n("br"),n("span",{staticClass:"line-number"},[t._v("73")]),n("br"),n("span",{staticClass:"line-number"},[t._v("74")]),n("br"),n("span",{staticClass:"line-number"},[t._v("75")]),n("br"),n("span",{staticClass:"line-number"},[t._v("76")]),n("br"),n("span",{staticClass:"line-number"},[t._v("77")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);