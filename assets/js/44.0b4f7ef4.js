(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{709:function(n,s,t){"use strict";t.r(s);var e=t(5),a=Object(e.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("拓扑排序")]),n._v(" "),t("h1",{attrs:{id:"ex2-拓扑排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ex2-拓扑排序"}},[n._v("#")]),n._v(" EX2.拓扑排序")]),n._v(" "),t("p",[n._v("Animals are waiting in a line, in a quarantine zone, before they can enter a hunting-free area, where they will find an easier life.")]),n._v(" "),t("p",[n._v("When entering the quarantine zone, animals have to check in with a guard. The guard writes down the animal species, and then the animal is allowed to join the end of the line, in the last position. At the other end of the line, animals have to check out: when the animal in the first position in the line is finally allowed to enter the hunting-free area, another guard writes down the animal species. Thus, each guard maintains a list of animal species, written down in the chronological order in which the animals have checked in or out. A total of NN animals, representing SS species, have checked in (and, therefore, checked out).")]),n._v(" "),t("p",[n._v("However, animals may enter the waiting line and leave it in different orders. Indeed, some animal species are friends with each other, and thus two animals from such species, if they occupy adjacent places in the line may accept to switch their places.")]),n._v(" "),t("p",[n._v("You have a list of those pairs of animal species that may accept to switch their places when being in adjacent positions in the line: this list contains L pairs. You were handed out the check-in list maintained by the first guard. Depending on which animals decided to switch places, several check-out lists might be possible. Among all those possible lists, which one comes first in alphabetical order?")]),n._v(" "),t("p",[n._v("给你S个物种，L个朋友关系，相邻且是朋友关系的两个可以互换位置，对N个动物排序使其字典序最小")]),n._v(" "),t("p",[n._v("不能换位置的即为约束关系，建有向边，同时每个动物只要考虑与它前面动物的约束关系")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("#include <bits/stdc++.h>\ntemplate<typename T>\ninline void read(T& x) { x = 0; char c = getchar(); while (!isdigit(c))c = getchar(); while (isdigit(c)) { x = x * 10 + c - '0'; c = getchar(); } }\n#define si(a) read(a)\n#define sii(a,b) read(a),read(b)\n#define siii(a,b,c) read(a),read(b),read(c)\n#define fl double\n#define ll long long int\n#define ull unsigned long long int\n#define T ll\nusing namespace std;\nconst ll MOD = 1e9 + 7;\n//const int N = 2e5 + 10;//                       这个容易改的啊！！！！！！！\n//int gcd(int a, int b) { return a == 0 ? b : gcd(b % a, a); }\nll gcd(ll a, ll b) { return a == 0 ? b : gcd(b % a, a); }\nint n, m;\nint S, L, N;\nvector<string>species(1);//这个1不能少\nmap<string, int> mp;\nint Friend[210][210];//朋友关系\nint last[210];//同种物种间也有约束，所以不同物种的只用考虑它前面的\nvector<int>e[200010];//拓扑建图，有约束条件的建有向边\nint du[200010];//入度\nint Line[200010];//初始的排队序列\nint ans[200010];\nstruct ani {\n\tint sp, dex;//物种、在Line里的下标\n\tfriend bool operator < (ani a, ani b) {\n\t\tif (a.sp == b.sp)return a.dex > b.dex;\n\t\treturn a.sp > b.sp;\n\t}//重载<,按sp从小到大 or dex\n};\npriority_queue<ani> S_tp;\nvoid tuopu() {\n\tfor (int i = 1; i <= N; i++)if (!du[i])S_tp.push({ Line[i],i });\n\tint cnt = 0;\n\twhile (!S_tp.empty()) {\n\t\tani tmp = S_tp.top();\n\t\tS_tp.pop();\n\t\tans[++cnt] = tmp.dex;\n\t\tfor (auto it : e[tmp.dex])\n\t\t\tif (--du[it] == 0)S_tp.push({ Line[it],it });\n\t}\n}\nvoid solve() {\n\n\tsiii(S, L, N);\n\tfor (int i = 1; i <= S; i++) {\n\t\tstring tmp; cin >> tmp;//string 不能直接用 scanf\n\t\tspecies.push_back(tmp);\n\t}\n\tsort(species.begin(), species.end());//这里要用begin()和end()\n\tint tmp = 0;\n\tfor (auto it : species) mp[it] = tmp++;\n\tfor (int i = 1; i <= L; i++) {\n\t\tstring x, y; cin >> x >> y;\n\t\tFriend[mp[x]][mp[y]] = 1;\n\t\tFriend[mp[y]][mp[x]] = 1;\n\t}\n\tfor (int i = 1; i <= N; i++) {\n\t\tstring tmp; cin >> tmp;\n\t\tint id = mp[tmp];\n\t\tLine[i] = id;\n\t\tfor (int j = 1; j <= S; j++) {\n\t\t\tif (Friend[id][j] || !last[j])\n\t\t\t\tcontinue;\n\t\t\te[last[j]].push_back(i);\n\t\t\tdu[i]++;//入度加一\n\t\t}\n\t\tlast[id] = i;\n\t}\n\ttuopu();\n\tfor (int i = 1; i <= N; i++)cout << species[Line[ans[i]]] << ' ';\n}\nint main() {\n\tint t;\n\tt = 1;\n\t//si(t);\n\twhile (t--)\n\t\tsolve();\n\treturn 0;\n}\n/*\n\n*/\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br"),t("span",{staticClass:"line-number"},[n._v("25")]),t("br"),t("span",{staticClass:"line-number"},[n._v("26")]),t("br"),t("span",{staticClass:"line-number"},[n._v("27")]),t("br"),t("span",{staticClass:"line-number"},[n._v("28")]),t("br"),t("span",{staticClass:"line-number"},[n._v("29")]),t("br"),t("span",{staticClass:"line-number"},[n._v("30")]),t("br"),t("span",{staticClass:"line-number"},[n._v("31")]),t("br"),t("span",{staticClass:"line-number"},[n._v("32")]),t("br"),t("span",{staticClass:"line-number"},[n._v("33")]),t("br"),t("span",{staticClass:"line-number"},[n._v("34")]),t("br"),t("span",{staticClass:"line-number"},[n._v("35")]),t("br"),t("span",{staticClass:"line-number"},[n._v("36")]),t("br"),t("span",{staticClass:"line-number"},[n._v("37")]),t("br"),t("span",{staticClass:"line-number"},[n._v("38")]),t("br"),t("span",{staticClass:"line-number"},[n._v("39")]),t("br"),t("span",{staticClass:"line-number"},[n._v("40")]),t("br"),t("span",{staticClass:"line-number"},[n._v("41")]),t("br"),t("span",{staticClass:"line-number"},[n._v("42")]),t("br"),t("span",{staticClass:"line-number"},[n._v("43")]),t("br"),t("span",{staticClass:"line-number"},[n._v("44")]),t("br"),t("span",{staticClass:"line-number"},[n._v("45")]),t("br"),t("span",{staticClass:"line-number"},[n._v("46")]),t("br"),t("span",{staticClass:"line-number"},[n._v("47")]),t("br"),t("span",{staticClass:"line-number"},[n._v("48")]),t("br"),t("span",{staticClass:"line-number"},[n._v("49")]),t("br"),t("span",{staticClass:"line-number"},[n._v("50")]),t("br"),t("span",{staticClass:"line-number"},[n._v("51")]),t("br"),t("span",{staticClass:"line-number"},[n._v("52")]),t("br"),t("span",{staticClass:"line-number"},[n._v("53")]),t("br"),t("span",{staticClass:"line-number"},[n._v("54")]),t("br"),t("span",{staticClass:"line-number"},[n._v("55")]),t("br"),t("span",{staticClass:"line-number"},[n._v("56")]),t("br"),t("span",{staticClass:"line-number"},[n._v("57")]),t("br"),t("span",{staticClass:"line-number"},[n._v("58")]),t("br"),t("span",{staticClass:"line-number"},[n._v("59")]),t("br"),t("span",{staticClass:"line-number"},[n._v("60")]),t("br"),t("span",{staticClass:"line-number"},[n._v("61")]),t("br"),t("span",{staticClass:"line-number"},[n._v("62")]),t("br"),t("span",{staticClass:"line-number"},[n._v("63")]),t("br"),t("span",{staticClass:"line-number"},[n._v("64")]),t("br"),t("span",{staticClass:"line-number"},[n._v("65")]),t("br"),t("span",{staticClass:"line-number"},[n._v("66")]),t("br"),t("span",{staticClass:"line-number"},[n._v("67")]),t("br"),t("span",{staticClass:"line-number"},[n._v("68")]),t("br"),t("span",{staticClass:"line-number"},[n._v("69")]),t("br"),t("span",{staticClass:"line-number"},[n._v("70")]),t("br"),t("span",{staticClass:"line-number"},[n._v("71")]),t("br"),t("span",{staticClass:"line-number"},[n._v("72")]),t("br"),t("span",{staticClass:"line-number"},[n._v("73")]),t("br"),t("span",{staticClass:"line-number"},[n._v("74")]),t("br"),t("span",{staticClass:"line-number"},[n._v("75")]),t("br"),t("span",{staticClass:"line-number"},[n._v("76")]),t("br"),t("span",{staticClass:"line-number"},[n._v("77")]),t("br"),t("span",{staticClass:"line-number"},[n._v("78")]),t("br"),t("span",{staticClass:"line-number"},[n._v("79")]),t("br"),t("span",{staticClass:"line-number"},[n._v("80")]),t("br"),t("span",{staticClass:"line-number"},[n._v("81")]),t("br"),t("span",{staticClass:"line-number"},[n._v("82")]),t("br"),t("span",{staticClass:"line-number"},[n._v("83")]),t("br"),t("span",{staticClass:"line-number"},[n._v("84")]),t("br"),t("span",{staticClass:"line-number"},[n._v("85")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);